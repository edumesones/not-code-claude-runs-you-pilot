# FEAT-XXX: Critical Analysis

> Generated by Think Critically protocol (Phase 2 of Feature Cycle)
> **Depth:** [Full (11 steps) / Abbreviated (steps 1-2-5-11) / Medium (steps 1-2-3-5-9-11)]
> **Date:** {date}

---

## 1. Problem Clarification

### Problem Statement
_[One clear sentence defining what we're solving]_

### Hard Constraints
- [Constraint 1]
- [Constraint 2]

### Soft Constraints
- [Preference 1]

### Success Criteria
- [Measurable criterion 1]
- [Measurable criterion 2]

### Non-Goals
- [What we're NOT trying to solve]

---

## 2. Implicit Assumptions ‚ö†Ô∏è

| # | Assumption | If Wrong, Impact | Confidence | Category |
|---|------------|------------------|------------|----------|
| 1 | _[Assumption]_ | _[What breaks]_ | High/Med/Low | _[Cat]_ |
| 2 | _[Assumption]_ | _[What breaks]_ | High/Med/Low | _[Cat]_ |

### ‚ö†Ô∏è Assumptions Requiring Validation
- [ ] _[Low confidence + High impact assumption]_

<!-- üî¥ RALPH LOOP: If any assumption has Low confidence + High impact ‚Üí PAUSE -->

---

## 3. Design Space Exploration

### Approach A: [Name]
**Core idea:** _[Description]_
**Pros:** _[List]_
**Cons:** _[List]_
**Best when:** _[Conditions]_
**Effort:** _[Low/Med/High]_

### Approach B: [Name]
**Core idea:** _[Description]_
**Pros:** _[List]_
**Cons:** _[List]_
**Best when:** _[Conditions]_
**Effort:** _[Low/Med/High]_

### Approach C: [Name]
**Core idea:** _[Description]_
**Pros:** _[List]_
**Cons:** _[List]_
**Best when:** _[Conditions]_
**Effort:** _[Low/Med/High]_

### Preliminary Recommendation
_[Which approach and why]_

---

## 4. Trade-off Analysis

### [Trade-off 1]: [A] vs [B]
**Position:** Favor _[A/B]_ because _[reason]_
**Implications:** _[What this means for implementation]_

### [Trade-off 2]: [A] vs [B]
**Position:** Favor _[A/B]_ because _[reason]_
**Implications:** _[What this means for implementation]_

---

## 5. Failure-First Analysis

### Critical Failures (High Severity)

| Failure Mode | Probability | Severity | Detection | Mitigation |
|--------------|-------------|----------|-----------|------------|
| _[What fails]_ | H/M/L | H/M/L | _[How we'd know]_ | _[Prevention]_ |

### Likely Failures (High Probability)

| Failure Mode | Probability | Severity | Detection | Mitigation |
|--------------|-------------|----------|-----------|------------|
| _[What fails]_ | H/M/L | H/M/L | _[How we'd know]_ | _[Prevention]_ |

### Cascading Failures
- If _[A]_ fails ‚Üí _[B]_ breaks ‚Üí _[C]_ is impacted

---

## 6. Boundaries & Invariants

### Invariants (Must ALWAYS be true)
1. _[Invariant 1]_
2. _[Invariant 2]_

### Boundaries (Hard limits)

| Boundary | Limit | Enforcement |
|----------|-------|-------------|
| _[What]_ | _[Value]_ | _[How enforced]_ |

### What the System Will NEVER Do
- _[Anti-behavior 1]_
- _[Anti-behavior 2]_

---

## 7. Observability & Control

### Key Metrics

| Metric | Purpose | Alert Threshold |
|--------|---------|-----------------|
| _[Metric]_ | _[Why it matters]_ | _[When to alert]_ |

### Essential Logs
- _[Log 1]_: _[What it captures]_

### Debug Capabilities
- _[How to investigate issue X]_

### Manual Controls
- _[What operators can do to intervene]_

---

## 8. Reversibility & Entropy

### Decision Reversibility

| Decision | Reversibility | Cost to Reverse | Time to Reverse |
|----------|---------------|-----------------|-----------------|
| _[Decision]_ | Easy/Hard/Impossible | _[Effort]_ | _[Duration]_ |

### Entropy Analysis
- **State accumulation:** _[What grows over time]_
- **Complexity growth:** _[How system gets harder to maintain]_
- **Migration path:** _[How to evolve/replace later]_

---

## 9. Adversarial Review üî¥

### Over-engineering Concerns
- _[Concern]_: _[Simpler alternative]_

### Under-engineering Concerns
- _[Concern]_: _[What we're missing]_

### The 2AM Incident
- _[Most likely production emergency]_: _[How it happens]_

### Future Pain Points
- _[What will hurt later]_: _[Why]_

### Security Concerns
- _[Potential vulnerability]_: _[Attack vector]_

### Scale Concerns
- _[What breaks at scale]_: _[How it breaks]_

### üö© Red Flags Found
- _[Critical red flag if any ‚Äî NONE if clean]_

<!-- üî¥ RALPH LOOP: If critical red flag found ‚Üí PAUSE -->

---

## 10. AI Delegation Matrix

### Safe for Full AI Automation (Ralph Loop)
- _[Task]_: _[Why safe]_

### AI with Human Review
- _[Task]_: _[What to review]_

### Human Only
- _[Task]_: _[Why AI should not do this]_

---

## 11. Decision Summary

### Recommended Approach
_[Selected approach and why ‚Äî this feeds directly into Plan phase's design.md]_

### Key Decisions Made

| Decision | Choice | Rationale |
|----------|--------|-----------|
| _[Decision]_ | _[Choice]_ | _[Why]_ |

### Short-term Goals (This Implementation)
1. _[Goal 1]_
2. _[Goal 2]_

### Long-term Considerations
- _[Future consideration 1]_
- _[Future consideration 2]_

### Remaining Unknowns
- [ ] _[Unknown 1]_: _[How to resolve]_
- [ ] _[Unknown 2]_: _[How to resolve]_

### Security Threat Model

| Threat | Likelihood | Impact | Mitigation |
|--------|------------|--------|------------|
| _[Threat]_ | _[L]_ | _[I]_ | _[M]_ |

### Blast Radius Analysis
- If _[component]_ fails: _[Impact scope]_
- Maximum blast radius: _[Worst case impact]_

### Confidence Level
**[High/Medium/Low]** ‚Äî _[Why this confidence level]_

<!-- üî¥ RALPH LOOP: If confidence level = "Low" ‚Üí PAUSE. Cannot proceed to Plan. -->

### Red Flags to Watch
- _[Warning sign 1]_
- _[Warning sign 2]_

### Recommended Next Steps
1. _[Proceed to Plan phase / Validate assumptions first / Requires human decision]_
2. _[Follow-up action]_

---

## How This Analysis Feeds the Plan Phase

| Section | ‚Üí Plan Phase Usage |
|---------|-------------------|
| Recommended Approach (¬ß11) | ‚Üí Architecture pattern for design.md |
| Failure Mitigations (¬ß5) | ‚Üí Error handling tasks in tasks.md |
| Invariants (¬ß6) | ‚Üí Validation rules in implementation |
| AI Delegation (¬ß10) | ‚Üí Ralph automation scope per task |
| Observability (¬ß7) | ‚Üí Monitoring tasks in tasks.md |
| Trade-off Positions (¬ß4) | ‚Üí Technical choices in design.md |

---

*Generated: {date}*
*Protocol: [Full/Abbreviated/Medium]*
*Confidence: [High/Medium/Low]*
*Red flags: [count]*
*Next phase: Plan ‚Üí `/plan implement FEAT-XXX`*
